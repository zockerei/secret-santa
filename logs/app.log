[2024-10-18 10:31:55] [INFO    ] app: Admin user already exists.
[2024-10-18 10:31:55] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:31:55] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:32:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:05] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:32:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:05] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:32:05] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 10:32:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 10:32:08] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:32:08] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:32:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:08] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:32:08] [ERROR   ] app: Exception on /admin/admin_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:32:08] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:32:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:08] "[35m[1mGET /admin/admin_dashboard HTTP/1.1[0m" 500 -
[2024-10-18 10:32:08] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:32:08] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 10:32:08] [ERROR   ] app: Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 765, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 740, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 9, in page_not_found
    return render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\404.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:32:08] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:32:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:08] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 500 -
[2024-10-18 10:32:08] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 765, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 740, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 9, in page_not_found
    return render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\404.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:35:59] [INFO    ] app: Admin user already exists.
[2024-10-18 10:36:00] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:36:00] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:36:06] [INFO    ] app: Admin user already exists.
[2024-10-18 10:36:06] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:36:06] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:36:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:08] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:36:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:08] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:36:10] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:36:11] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:36:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:11] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:36:11] [ERROR   ] app: Exception on /admin/admin_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:36:11] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:36:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:11] "[35m[1mGET /admin/admin_dashboard HTTP/1.1[0m" 500 -
[2024-10-18 10:36:11] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:40:02] [INFO    ] app: Admin user already exists.
[2024-10-18 10:40:02] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:40:02] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:40:04] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:04] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:40:04] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:04] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:40:06] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:40:07] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:40:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:07] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:40:07] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:40:07] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:40:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:07] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:40:07] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:41:31] [INFO    ] app: Admin user already exists.
[2024-10-18 10:41:31] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:41:31] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:41:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:32] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:41:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:32] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:41:34] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:41:35] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:41:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:35] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:41:35] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html
[2024-10-18 10:41:35] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:41:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:35] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:41:35] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:46:14] [INFO    ] app: Admin user already exists.
[2024-10-18 10:46:14] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:46:14] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:46:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:46:15] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:46:16] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:46:16] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:46:18] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:46:19] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:46:19] [ERROR   ] app: Exception on /auth/login [POST]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\auth\routes.py", line 21, in login
    return redirect(url_for('admin.dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:46:19] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:46:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:46:19] "[35m[1mPOST /auth/login HTTP/1.1[0m" 500 -
[2024-10-18 10:46:19] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\auth\routes.py", line 21, in login
    return redirect(url_for('admin.dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:50:38] [INFO    ] app: Admin user already exists.
[2024-10-18 10:50:38] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:50:38] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:50:40] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:40] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:50:40] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:40] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:50:42] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:50:43] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:50:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:43] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:50:43] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html
[2024-10-18 10:50:43] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:50:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:43] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:50:43] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:51:38] [INFO    ] app: Admin user already exists.
[2024-10-18 10:51:38] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:51:38] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:51:39] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:39] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:51:39] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:39] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:51:41] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:51:42] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:51:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:42] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:51:42] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:51:42] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:51:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:42] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:51:42] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:52:18] [INFO    ] app: Admin user already exists.
[2024-10-18 10:52:18] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:52:18] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:52:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:19] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:52:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:19] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:52:21] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:52:22] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:52:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:22] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:52:22] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 39, in top-level template code
    <form action="{{ url_for('logout') }}" method="POST" style="display:inline;">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'logout'. Did you mean 'auth.logout' instead?
[2024-10-18 10:52:22] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:52:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:22] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:52:22] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 39, in top-level template code
    <form action="{{ url_for('logout') }}" method="POST" style="display:inline;">
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'logout'. Did you mean 'auth.logout' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:53:29] [INFO    ] app: Admin user already exists.
[2024-10-18 10:53:29] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:53:29] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:53:30] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:30] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:53:30] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:30] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:53:32] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:53:33] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:53:33] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:33] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:53:33] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:33] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 10:53:39] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:39] "[31m[1mPOST /auth/logout HTTP/1.1[0m" 405 -
[2024-10-18 10:56:08] [INFO    ] app: Admin user already exists.
[2024-10-18 10:56:08] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:56:08] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:56:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:09] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:56:10] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:10] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:56:12] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:56:12] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:56:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:12] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:56:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:12] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 10:56:14] [INFO    ] app.auth: User santa logged out
[2024-10-18 10:56:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:14] "[32mPOST /auth/logout HTTP/1.1[0m" 302 -
[2024-10-18 10:56:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:14] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:56:16] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:56:17] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:56:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:17] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:56:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:17] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 10:56:24] [INFO    ] app.admin: Added new participant "alex".
[2024-10-18 10:56:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:24] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 10:56:24] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 17, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 10:56:24] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:56:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:24] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:56:24] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 17, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:56:51] [INFO    ] app: Admin user already exists.
[2024-10-18 10:56:51] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:56:51] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:56:56] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:56] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:56:57] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:57] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:56:59] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:57:00] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:57:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:57:00] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:57:00] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 17, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 10:57:00] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:57:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:57:00] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:01:20] [INFO    ] app: Admin user already exists.
[2024-10-18 11:01:20] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:01:20] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:01:20] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:01:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:22] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:01:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:22] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:01:24] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:01:25] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:01:25] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:25] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:01:25] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 18, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 11:01:25] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:01:25] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:25] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:03:39] [INFO    ] app: Admin user already exists.
[2024-10-18 11:03:39] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:03:39] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:03:39] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:03:41] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:41] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:03:41] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:41] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:03:42] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:03:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:03:44] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:03:44] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:03:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:44] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:03:44] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 18, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 11:03:44] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:03:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:44] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:03:44] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:03:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:18] [INFO    ] app: Admin user already exists.
[2024-10-18 11:07:18] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:07:18] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:07:18] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:07:21] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:21] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:07:21] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:21] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:07:23] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:07:24] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:07:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:24] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:07:24] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 20, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 101, in top-level template code
    <form class="add-receiver-form" action="{{ url_for('admin.add_receiver', person_id=participant.id) }}" method="POST">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 487, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'participant' is undefined
[2024-10-18 11:07:24] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:07:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:24] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:07:24] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:46] [INFO    ] app: Admin user created.
[2024-10-18 11:07:46] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:07:46] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:07:46] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:07:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:48] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:07:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:48] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:07:50] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:07:51] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:07:51] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:51] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:07:51] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:51] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:07:51] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:51] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:55] [INFO    ] app.auth: User santa logged out
[2024-10-18 11:07:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:55] "[32mPOST /auth/logout HTTP/1.1[0m" 302 -
[2024-10-18 11:07:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:55] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:07:55] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:58] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:07:59] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:07:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:59] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:07:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:59] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:07:59] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:08:03] [INFO    ] app.admin: Added new participant "alex".
[2024-10-18 11:08:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:03] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:08:03] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 20, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 101, in top-level template code
    <form class="add-receiver-form" action="{{ url_for('admin.add_receiver', person_id=participant.id) }}" method="POST">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 487, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'participant' is undefined
[2024-10-18 11:08:03] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:08:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:03] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:08:03] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:08:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:08:57] [INFO    ] app: Admin user already exists.
[2024-10-18 11:08:57] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:08:57] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:08:57] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:08:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:59] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:08:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:59] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:09:02] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:09:03] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:09:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:09:03] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:09:03] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 23, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 91, in top-level template code
    <form action="{{ url_for('admin.remove_receiver', person_id=receiver.participant_id, receiver_name=receiver.receiver_name, year=receiver.year) }}" method="POST" style="display:inline;">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 922, in build
    rv = self._partial_build(endpoint, values, method, append_unknown)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 814, in _partial_build
    build_rv = rule.build(values, append_unknown)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\rules.py", line 850, in build
    return self._build_unknown(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<werkzeug routing>", line 1, in <builder:'/admin/remove_receiver/<int:person_id>/<string:receiver_name>/<int:year>'>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\converters.py", line 163, in to_url
    value_str = str(self.num_convert(value))
                    ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'participant_id'
[2024-10-18 11:09:03] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:09:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:09:03] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:09:03] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:09:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:09:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:10:58] [INFO    ] app: Admin user already exists.
[2024-10-18 11:10:58] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:10:58] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:10:58] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:11:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:00] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:11:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:00] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:11:02] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:11:02] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:11:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:02] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:11:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:02] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:11:03] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:11:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:11:13] [INFO    ] app.admin: Participant ID "2" removed.
[2024-10-18 11:11:13] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:13] "[32mPOST /admin/remove_participant/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:11:13] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:13] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:11:13] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:11:13] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:11:17] [INFO    ] app.admin: Added new participant "alex".
[2024-10-18 11:11:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:17] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:11:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:17] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:11:17] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:11:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:17] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:11:25] [ERROR   ] app.errors: Database error: Failed to add participant
[2024-10-18 11:11:25] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:25] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:12:47] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:12:47] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:12:53] [ERROR   ] app.errors: Database error: Failed to add participant
[2024-10-18 11:12:53] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:12:53] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:12:54] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:12:54] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:25:32] [ERROR   ] app: Exception on /admin/edit_participant/2 [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 68, in edit_participant
    return render_template('edit_participant.html', participant=participant)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\edit_participant.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 11:25:32] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:25:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:25:32] "[35m[1mGET /admin/edit_participant/2 HTTP/1.1[0m" 500 -
[2024-10-18 11:26:01] [INFO    ] app: Admin user already exists.
[2024-10-18 11:26:01] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:26:02] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:26:02] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:26:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:03] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:26:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:03] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:26:05] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:26:06] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:26:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:06] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:26:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:06] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:06] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:14] "GET /admin/edit_participant/2 HTTP/1.1" 200 -
[2024-10-18 11:26:20] [INFO    ] app.admin: Participant ID "2" updated to name "alex".
[2024-10-18 11:26:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:20] "[32mPOST /admin/edit_participant/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:26:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:20] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:20] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:32] [INFO    ] app.admin: Added new participant "magda".
[2024-10-18 11:26:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:32] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:26:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:32] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:32] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:32] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:37] [INFO    ] app.admin: Participant ID "3" removed.
[2024-10-18 11:26:37] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:37] "[32mPOST /admin/remove_participant/3 HTTP/1.1[0m" 302 -
[2024-10-18 11:26:37] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:37] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:37] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:37] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:43] [INFO    ] app.admin: Added new participant "magda".
[2024-10-18 11:26:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:43] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:26:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:43] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:43] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:44] "GET /admin/edit_participant/3 HTTP/1.1" 200 -
[2024-10-18 11:26:49] [INFO    ] app.admin: Participant ID "3" updated to name "kathi".
[2024-10-18 11:26:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:49] "[32mPOST /admin/edit_participant/3 HTTP/1.1[0m" 302 -
[2024-10-18 11:26:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:49] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:49] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:53] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:53] "GET /admin/edit_participant/3 HTTP/1.1" 200 -
[2024-10-18 11:26:57] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:57] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:24] [INFO    ] app.admin: Added new participant "magda".
[2024-10-18 11:27:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:24] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:27:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:24] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:24] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:27:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:27:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:35] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:27:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:35] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:35] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:27:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:35] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:27:48] [ERROR   ] app.errors: Database error: Failed to add participant
[2024-10-18 11:27:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:48] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:27:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:49] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:58] [INFO    ] app.admin: Added receiver "magda" for participant ID "2" in year 2021.
[2024-10-18 11:27:58] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:58] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:27:58] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:58] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:59] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:27:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:28:01] [INFO    ] app.admin: Removed receiver "magda" for participant ID "2" in year 2021.
[2024-10-18 11:28:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:01] "[32mPOST /admin/remove_receiver/2/magda/2021 HTTP/1.1[0m" 302 -
[2024-10-18 11:28:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:01] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:28:01] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:28:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:28:05] [INFO    ] app.admin: Added receiver "magda" for participant ID "2" in year 2021.
[2024-10-18 11:28:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:05] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:28:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:05] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:28:05] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:28:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:28:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:09] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:28:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:09] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:28:09] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:28:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:30:18] [INFO    ] app: Admin user already exists.
[2024-10-18 11:30:18] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:30:18] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:30:18] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:30:21] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:21] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:30:21] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:21] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:30:23] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:30:24] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:30:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:24] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:30:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:24] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:30:24] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:30:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:30:28] [ERROR   ] app: Exception on /admin/add_participant [POST]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: participants.name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 20, in add_participant
    db.session.commit()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\scoping.py", line 597, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\session.py", line 4352, in flush
    self._flush(objects)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\session.py", line 4487, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\util\langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\session.py", line 4448, in _flush
    flush_context.execute()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\orm\persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\sql\elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\sqlalchemy\engine\default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: participants.name
[SQL: INSERT INTO participants (name, password, wishlist, admin) VALUES (?, ?, ?, ?)]
[parameters: ('alex', '$2b$12$Ly.2diIKxUWyxQlZIna26ugXG9sDPlF8NnYjrRwWEp6ZAYzwCQaWu', None, 0)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 40, in add_new_participant
    sql_statements.add_participant(name, password, 'participant')
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 23, in add_participant
    raise DatabaseError("Failed to add participant", e)
app.queries.DatabaseError: Failed to add participant
[2024-10-18 11:30:28] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:30:28] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:28] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:30:30] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:30] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:30:39] [INFO    ] app: Admin user already exists.
[2024-10-18 11:30:39] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:30:39] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:30:39] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:30:41] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:41] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:30:41] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:41] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:30:45] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:30:46] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:30:46] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:46] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:30:46] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:46] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:30:46] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:30:46] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:46] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:30:49] [ERROR   ] app.errors: Database error: Failed to add participant
[2024-10-18 11:30:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:49] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:30:51] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:30:51] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:32:25] [INFO    ] app: Admin user already exists.
[2024-10-18 11:32:25] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:32:25] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:32:25] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:32:26] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:26] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:32:26] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:26] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:32:29] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:32:29] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:32:29] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:29] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:32:29] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:29] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:32:29] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:32:29] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:29] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:32:38] [INFO    ] app.admin: Added receiver "alex" for participant ID "3" in year 2021.
[2024-10-18 11:32:38] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:38] "[32mPOST /admin/add_receiver/3 HTTP/1.1[0m" 302 -
[2024-10-18 11:32:38] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:38] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:32:38] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:32:38] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:32:45] [INFO    ] app.admin: Added receiver "kathi" for participant ID "4" in year 2021.
[2024-10-18 11:32:45] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:45] "[32mPOST /admin/add_receiver/4 HTTP/1.1[0m" 302 -
[2024-10-18 11:32:45] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:45] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:32:45] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:32:45] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:45] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:32:48] [DEBUG   ] app.logic: Fetched receivers for participant ID 2: ['magda']
[2024-10-18 11:32:48] [DEBUG   ] app.logic: Fetched receivers for participant ID 3: ['alex']
[2024-10-18 11:32:48] [DEBUG   ] app.logic: Fetched receivers for participant ID 4: ['kathi']
[2024-10-18 11:32:48] [INFO    ] app.logic: Successful Secret Santa pairings generated.
[2024-10-18 11:32:48] [INFO    ] app.admin: Secret Santa round started for year 2022.
[2024-10-18 11:32:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:48] "[32mPOST /admin/start_new_run HTTP/1.1[0m" 302 -
[2024-10-18 11:32:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:48] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:32:48] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:32:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:48] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:32:52] [INFO    ] app.auth: User santa logged out
[2024-10-18 11:32:52] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:52] "[32mPOST /auth/logout HTTP/1.1[0m" 302 -
[2024-10-18 11:32:52] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:52] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:32:52] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:32:52] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:52] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:32:54] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:32:55] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:32:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:55] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:32:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:55] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:32:55] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:32:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:32:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:34:26] [INFO    ] app: Admin user already exists.
[2024-10-18 11:34:26] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:34:26] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:34:26] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:34:28] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:28] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:34:28] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:28] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:34:31] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:34:31] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:34:31] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:31] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:34:31] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:31] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:34:31] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:34:31] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:31] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:34:38] [WARNING ] app.admin: Participant 'alex' already has a receiver for year 2022.
[2024-10-18 11:34:38] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:38] "[32mPOST /admin/start_new_run HTTP/1.1[0m" 302 -
[2024-10-18 11:34:38] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:38] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:34:38] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:34:38] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:34:38] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:35:43] [DEBUG   ] app.logic: Fetched receivers for participant ID 2: ['magda']
[2024-10-18 11:35:43] [DEBUG   ] app.logic: Fetched receivers for participant ID 3: ['alex']
[2024-10-18 11:35:43] [DEBUG   ] app.logic: Fetched receivers for participant ID 4: ['kathi']
[2024-10-18 11:35:43] [INFO    ] app.logic: Successful Secret Santa pairings generated.
[2024-10-18 11:35:43] [INFO    ] app.admin: Secret Santa round started for year 2023.
[2024-10-18 11:35:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:35:43] "[32mPOST /admin/start_new_run HTTP/1.1[0m" 302 -
[2024-10-18 11:35:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:35:43] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:35:44] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:35:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:35:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:36:40] [INFO    ] app: Admin user already exists.
[2024-10-18 11:36:40] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:36:40] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:36:40] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:36:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:36:42] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:36:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:36:42] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:36:46] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:36:47] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:36:47] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:36:47] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:36:47] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 14, in admin_dashboard
    current_year = datetime.now().year  # Get the current year
                   ^^^^^^^^
NameError: name 'datetime' is not defined. Did you forget to import 'datetime'
[2024-10-18 11:36:47] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:36:47] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:36:47] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:36:47] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:36:47] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:36:47] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:37:10] [INFO    ] app: Admin user already exists.
[2024-10-18 11:37:10] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:37:10] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:37:10] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:37:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:37:12] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:37:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:37:12] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:37:15] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:37:15] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:37:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:37:15] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:37:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:37:15] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:37:15] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:37:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:37:15] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:38:53] [INFO    ] app: Admin user already exists.
[2024-10-18 11:38:53] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:38:53] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:38:53] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:38:54] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:38:54] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:38:54] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:38:54] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:38:57] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:38:57] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:38:57] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:38:57] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:38:57] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 21, in admin_dashboard
    past_assignments = sql_statements.get_past_assignments(person_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.queries' has no attribute 'get_past_assignments'
[2024-10-18 11:38:57] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:38:57] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:38:57] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:38:57] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:38:57] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:38:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:38:59] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 21, in admin_dashboard
    past_assignments = sql_statements.get_past_assignments(person_id)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'app.queries' has no attribute 'get_past_assignments'
[2024-10-18 11:38:59] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:38:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:38:59] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:40:15] [INFO    ] app: Admin user already exists.
[2024-10-18 11:40:15] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:40:15] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:40:15] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:40:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:40:17] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:40:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:40:17] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:40:19] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:40:20] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:40:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:40:20] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:40:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:40:20] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:40:20] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:40:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:40:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:00] [INFO    ] app: Admin user already exists.
[2024-10-18 11:43:00] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:43:00] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:43:00] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:43:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:01] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:43:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:01] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:43:04] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:43:05] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:43:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:05] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:43:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:05] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:05] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:08] [INFO    ] app.admin: Removed receiver "kathi" for participant ID "2" in year 2022.
[2024-10-18 11:43:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:08] "[32mPOST /admin/remove_receiver/2/kathi/2022 HTTP/1.1[0m" 302 -
[2024-10-18 11:43:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:08] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:08] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:08] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:10] [INFO    ] app.admin: Removed receiver "magda" for participant ID "3" in year 2022.
[2024-10-18 11:43:10] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:10] "[32mPOST /admin/remove_receiver/3/magda/2022 HTTP/1.1[0m" 302 -
[2024-10-18 11:43:10] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:10] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:10] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:10] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:10] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:11] [INFO    ] app.admin: Removed receiver "alex" for participant ID "4" in year 2022.
[2024-10-18 11:43:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:11] "[32mPOST /admin/remove_receiver/4/alex/2022 HTTP/1.1[0m" 302 -
[2024-10-18 11:43:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:11] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:12] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:12] [INFO    ] app.admin: Removed receiver "kathi" for participant ID "2" in year 2023.
[2024-10-18 11:43:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:12] "[32mPOST /admin/remove_receiver/2/kathi/2023 HTTP/1.1[0m" 302 -
[2024-10-18 11:43:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:12] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:12] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:14] [INFO    ] app.admin: Removed receiver "magda" for participant ID "3" in year 2023.
[2024-10-18 11:43:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:14] "[32mPOST /admin/remove_receiver/3/magda/2023 HTTP/1.1[0m" 302 -
[2024-10-18 11:43:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:14] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:14] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:14] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:15] [INFO    ] app.admin: Removed receiver "alex" for participant ID "4" in year 2023.
[2024-10-18 11:43:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:15] "[32mPOST /admin/remove_receiver/4/alex/2023 HTTP/1.1[0m" 302 -
[2024-10-18 11:43:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:15] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:15] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:15] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:43:19] [DEBUG   ] app.logic: Fetched receivers for participant ID 2: ['magda']
[2024-10-18 11:43:19] [DEBUG   ] app.logic: Fetched receivers for participant ID 3: ['alex']
[2024-10-18 11:43:19] [DEBUG   ] app.logic: Fetched receivers for participant ID 4: ['kathi']
[2024-10-18 11:43:19] [INFO    ] app.logic: Successful Secret Santa pairings generated.
[2024-10-18 11:43:19] [INFO    ] app.admin: Secret Santa round started for year 2022.
[2024-10-18 11:43:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:19] "[32mPOST /admin/start_new_run HTTP/1.1[0m" 302 -
[2024-10-18 11:43:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:19] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:43:19] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:43:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:43:19] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:46:01] [INFO    ] app: Admin user already exists.
[2024-10-18 11:46:01] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:46:01] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:46:01] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:46:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:02] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:46:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:02] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:46:05] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:46:05] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:46:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:05] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:46:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:05] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:46:05] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:46:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:46:12] [DEBUG   ] app.logic: Fetched receivers for participant ID 2: ['magda']
[2024-10-18 11:46:12] [DEBUG   ] app.logic: Fetched receivers for participant ID 3: ['alex']
[2024-10-18 11:46:12] [DEBUG   ] app.logic: Fetched receivers for participant ID 4: ['kathi']
[2024-10-18 11:46:12] [INFO    ] app.logic: Successful Secret Santa pairings generated.
[2024-10-18 11:46:12] [INFO    ] app.admin: Secret Santa round started for year 2023.
[2024-10-18 11:46:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:12] "[32mPOST /admin/start_new_run HTTP/1.1[0m" 302 -
[2024-10-18 11:46:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:12] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:46:12] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:46:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:46:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:47:51] [INFO    ] app: Admin user already exists.
[2024-10-18 11:47:51] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:47:51] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:47:51] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:47:53] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:47:53] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:47:53] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:47:53] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:47:55] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:47:56] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:47:56] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:47:56] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:47:56] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:47:56] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:47:56] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:47:56] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:47:56] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:48:02] [INFO    ] app.admin: Removed receiver "kathi" for participant ID "2" in year 2023.
[2024-10-18 11:48:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:02] "[32mPOST /admin/remove_receiver/2/kathi/2023 HTTP/1.1[0m" 302 -
[2024-10-18 11:48:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:02] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:48:02] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:48:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:02] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:48:05] [INFO    ] app.admin: Removed receiver "magda" for participant ID "3" in year 2023.
[2024-10-18 11:48:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:05] "[32mPOST /admin/remove_receiver/3/magda/2023 HTTP/1.1[0m" 302 -
[2024-10-18 11:48:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:05] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:48:05] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:48:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:48:05] [INFO    ] app.admin: Removed receiver "magda" for participant ID "3" in year 2022.
[2024-10-18 11:48:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:05] "[32mPOST /admin/remove_receiver/3/magda/2022 HTTP/1.1[0m" 302 -
[2024-10-18 11:48:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:05] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:48:06] [INFO    ] app.admin: Removed receiver "alex" for participant ID "4" in year 2023.
[2024-10-18 11:48:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:06] "[32mPOST /admin/remove_receiver/4/alex/2023 HTTP/1.1[0m" 302 -
[2024-10-18 11:48:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:06] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:48:07] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:48:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:48:07] [INFO    ] app.admin: Removed receiver "alex" for participant ID "4" in year 2022.
[2024-10-18 11:48:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:07] "[32mPOST /admin/remove_receiver/4/alex/2022 HTTP/1.1[0m" 302 -
[2024-10-18 11:48:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:07] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:48:07] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:48:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:48:07] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:49:10] [INFO    ] app: Admin user already exists.
[2024-10-18 11:49:10] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:49:10] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:49:10] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:49:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:49:12] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:49:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:49:12] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:49:14] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:49:15] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:49:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:49:15] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:49:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:49:15] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:49:15] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:49:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:49:15] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:49:19] [DEBUG   ] app.logic: Fetched receivers for participant ID 2: ['kathi', 'magda']
[2024-10-18 11:49:19] [DEBUG   ] app.logic: Fetched receivers for participant ID 3: ['alex']
[2024-10-18 11:49:19] [DEBUG   ] app.logic: Fetched receivers for participant ID 4: ['kathi']
[2024-10-18 11:49:19] [ERROR   ] app: Exception on /admin/start_new_run [POST]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 169, in start_new_run
    new_assignments = logic.generate_secret_santa(participants, sql_statements)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\logic.py", line 62, in generate_secret_santa
    if is_valid_pairing(dict(candidate_assignment), past_receivers, participants):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\logic.py", line 33, in is_valid_pairing
    last_two_years_receivers = [r['receiver_name'] for r in past_receivers[giver_id][:2]]
                                ~^^^^^^^^^^^^^^^^^
TypeError: string indices must be integers, not 'str'
[2024-10-18 11:49:19] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:49:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:49:19] "[35m[1mPOST /admin/start_new_run HTTP/1.1[0m" 500 -
[2024-10-18 11:53:00] [INFO    ] app: Admin user already exists.
[2024-10-18 11:53:00] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:53:00] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:53:00] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:53:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:02] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:53:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:02] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:53:05] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:53:06] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:53:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:06] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:53:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:06] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:53:06] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:53:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:53:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:07] "GET /admin/edit_participant/2 HTTP/1.1" 200 -
[2024-10-18 11:53:11] [INFO    ] app.admin: Participant ID "2" updated to name "alex".
[2024-10-18 11:53:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:11] "[32mPOST /admin/edit_participant/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:53:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:11] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:53:11] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:53:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:11] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:53:12] [INFO    ] app.auth: User santa logged out
[2024-10-18 11:53:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:12] "[32mPOST /auth/logout HTTP/1.1[0m" 302 -
[2024-10-18 11:53:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:12] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:53:12] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:53:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:12] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:53:15] [INFO    ] app.auth: Login attempt for user: alex
[2024-10-18 11:53:16] [INFO    ] app.auth: User alex logged in with role participant
[2024-10-18 11:53:16] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:16] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:53:16] [INFO    ] app.participant: User "alex" accessed the dashboard.
[2024-10-18 11:53:16] [INFO    ] app.participant: Dashboard data prepared for user "alex".
[2024-10-18 11:53:16] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:16] "GET /participant/dashboard HTTP/1.1" 200 -
[2024-10-18 11:53:16] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:53:16] [ERROR   ] app: Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 765, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 740, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 9, in page_not_found
    return render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\404.html", line 9, in top-level template code
    <a href="{{ url_for('participant.participant_dashboard') }}">Return to Dashboard</a>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
[2024-10-18 11:53:16] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:53:16] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:16] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 500 -
[2024-10-18 11:53:16] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 765, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 740, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 9, in page_not_found
    return render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\404.html", line 9, in top-level template code
    <a href="{{ url_for('participant.participant_dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 9, in top-level template code
    <a href="{{ url_for('participant.participant_dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
[2024-10-18 11:53:19] [INFO    ] app.participant: User "alex" requested to view message for receiver ID 4 for the year 2021.
[2024-10-18 11:53:19] [WARNING ] app.participant: No message found for receiver ID 4 for the year 2021 for user "alex".
[2024-10-18 11:53:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:19] "GET /participant/view_message/4/2021 HTTP/1.1" 200 -
[2024-10-18 11:53:47] [INFO    ] app.participant: Message added for user "alex" for the year 2024.
[2024-10-18 11:53:47] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:47] "[32mPOST /participant/add_message HTTP/1.1[0m" 302 -
[2024-10-18 11:53:47] [INFO    ] app.participant: User "alex" accessed the dashboard.
[2024-10-18 11:53:47] [INFO    ] app.participant: Dashboard data prepared for user "alex".
[2024-10-18 11:53:47] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:47] "GET /participant/dashboard HTTP/1.1" 200 -
[2024-10-18 11:53:50] [INFO    ] app.participant: User "alex" accessed edit message page for message ID 1.
[2024-10-18 11:53:50] [ERROR   ] app: Exception on /participant/edit_message/1 [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 109, in edit_message
    return render_template('edit_message.html', message=message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\templates\edit_message.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 11:53:50] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:53:50] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:53:50] "[35m[1mGET /participant/edit_message/1 HTTP/1.1[0m" 500 -
[2024-10-18 11:53:50] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 109, in edit_message
    return render_template('edit_message.html', message=message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\templates\edit_message.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 9, in top-level template code
    <a href="{{ url_for('participant.participant_dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
[2024-10-18 11:54:14] [INFO    ] app: Admin user already exists.
[2024-10-18 11:54:14] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:54:14] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:54:14] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:54:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:54:15] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:54:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:54:15] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:54:19] [INFO    ] app.auth: Login attempt for user: alex
[2024-10-18 11:54:19] [INFO    ] app.auth: User alex logged in with role participant
[2024-10-18 11:54:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:54:19] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:54:19] [INFO    ] app.participant: User "alex" accessed the dashboard.
[2024-10-18 11:54:19] [INFO    ] app.participant: Dashboard data prepared for user "alex".
[2024-10-18 11:54:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:54:19] "GET /participant/dashboard HTTP/1.1" 200 -
[2024-10-18 11:54:21] [INFO    ] app.participant: User "alex" accessed edit message page for message ID 1.
[2024-10-18 11:54:21] [ERROR   ] app: Exception on /participant/edit_message/1 [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 109, in edit_message
    return render_template('edit_message.html', message=message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\templates\edit_message.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 11:54:21] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:54:21] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:54:21] "[35m[1mGET /participant/edit_message/1 HTTP/1.1[0m" 500 -
[2024-10-18 11:54:21] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 109, in edit_message
    return render_template('edit_message.html', message=message)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\templates\edit_message.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 9, in top-level template code
    <a href="{{ url_for('participant.participant_dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
[2024-10-18 11:54:37] [INFO    ] app: Admin user already exists.
[2024-10-18 11:54:37] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:54:37] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:54:37] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:55:38] [INFO    ] app: Admin user already exists.
[2024-10-18 11:55:38] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:55:38] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:55:38] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:55:40] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:40] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:55:40] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:40] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:55:42] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:55:43] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:55:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:43] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:55:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:43] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:55:44] [INFO    ] app.auth: User santa logged out
[2024-10-18 11:55:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:44] "[32mPOST /auth/logout HTTP/1.1[0m" 302 -
[2024-10-18 11:55:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:44] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:55:47] [INFO    ] app.auth: Login attempt for user: alex
[2024-10-18 11:55:48] [INFO    ] app.auth: User alex logged in with role participant
[2024-10-18 11:55:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:48] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:55:48] [INFO    ] app.participant: User "alex" accessed the dashboard.
[2024-10-18 11:55:48] [INFO    ] app.participant: Dashboard data prepared for user "alex".
[2024-10-18 11:55:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:48] "GET /participant/dashboard HTTP/1.1" 200 -
[2024-10-18 11:55:50] [INFO    ] app.participant: User "alex" requested to view message for receiver ID 4 for the year 2021.
[2024-10-18 11:55:50] [WARNING ] app.participant: No message found for receiver ID 4 for the year 2021 for user "alex".
[2024-10-18 11:55:50] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:50] "GET /participant/view_message/4/2021 HTTP/1.1" 200 -
[2024-10-18 11:55:54] [INFO    ] app.participant: User "alex" attempted to add a duplicate message for the year 2024.
[2024-10-18 11:55:54] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:54] "[32mPOST /participant/add_message HTTP/1.1[0m" 302 -
[2024-10-18 11:55:55] [INFO    ] app.participant: User "alex" accessed the dashboard.
[2024-10-18 11:55:55] [INFO    ] app.participant: Dashboard data prepared for user "alex".
[2024-10-18 11:55:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:55:55] "GET /participant/dashboard HTTP/1.1" 200 -
[2024-10-18 11:56:00] [INFO    ] app.participant: User "alex" attempted to delete message ID 1.
[2024-10-18 11:56:00] [INFO    ] app.participant: Message ID 1 deleted by user "alex".
[2024-10-18 11:56:00] [ERROR   ] app: Exception on /participant/delete_message/1 [POST]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 132, in delete_message
    return redirect(url_for('participant.participant_dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
[2024-10-18 11:56:00] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:56:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:56:00] "[35m[1mPOST /participant/delete_message/1 HTTP/1.1[0m" 500 -
[2024-10-18 11:56:00] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 132, in delete_message
    return redirect(url_for('participant.participant_dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 9, in top-level template code
    <a href="{{ url_for('participant.participant_dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
[2024-10-18 11:56:54] [INFO    ] app: Admin user already exists.
[2024-10-18 11:56:54] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:56:54] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:56:54] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:56:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:56:55] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:56:56] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:56:56] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:56:59] [INFO    ] app.auth: Login attempt for user: alex
[2024-10-18 11:56:59] [INFO    ] app.auth: User alex logged in with role participant
[2024-10-18 11:56:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:56:59] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:57:00] [INFO    ] app.participant: User "alex" accessed the dashboard.
[2024-10-18 11:57:00] [INFO    ] app.participant: Dashboard data prepared for user "alex".
[2024-10-18 11:57:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:57:00] "GET /participant/dashboard HTTP/1.1" 200 -
[2024-10-18 11:57:03] [INFO    ] app.participant: Message added for user "alex" for the year 2024.
[2024-10-18 11:57:03] [ERROR   ] app: Exception on /participant/add_message [POST]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 78, in add_message
    return redirect(url_for('participant.participant_dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
[2024-10-18 11:57:03] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:57:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:57:03] "[35m[1mPOST /participant/add_message HTTP/1.1[0m" 500 -
[2024-10-18 11:57:03] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\participant\routes.py", line 78, in add_message
    return redirect(url_for('participant.participant_dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 9, in top-level template code
    <a href="{{ url_for('participant.participant_dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'participant.participant_dashboard'. Did you mean 'participant.dashboard' instead?
