[2024-10-18 10:31:55] [INFO    ] app: Admin user already exists.
[2024-10-18 10:31:55] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:31:55] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:32:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:05] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:32:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:05] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:32:05] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 10:32:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 10:32:08] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:32:08] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:32:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:08] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:32:08] [ERROR   ] app: Exception on /admin/admin_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:32:08] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:32:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:08] "[35m[1mGET /admin/admin_dashboard HTTP/1.1[0m" 500 -
[2024-10-18 10:32:08] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:32:08] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 10:32:08] [ERROR   ] app: Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 765, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 740, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 9, in page_not_found
    return render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\404.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:32:08] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:32:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:32:08] "[35m[1mGET /favicon.ico HTTP/1.1[0m" 500 -
[2024-10-18 10:32:08] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 854, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 463, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 765, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 740, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 9, in page_not_found
    return render_template('404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\404.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:35:59] [INFO    ] app: Admin user already exists.
[2024-10-18 10:36:00] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:36:00] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:36:06] [INFO    ] app: Admin user already exists.
[2024-10-18 10:36:06] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:36:06] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:36:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:08] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:36:08] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:08] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:36:10] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:36:11] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:36:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:11] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:36:11] [ERROR   ] app: Exception on /admin/admin_dashboard [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:36:11] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:36:11] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:36:11] "[35m[1mGET /admin/admin_dashboard HTTP/1.1[0m" 500 -
[2024-10-18 10:36:11] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:40:02] [INFO    ] app: Admin user already exists.
[2024-10-18 10:40:02] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:40:02] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:40:04] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:04] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:40:04] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:04] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:40:06] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:40:07] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:40:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:07] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:40:07] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:40:07] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:40:07] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:40:07] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:40:07] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:41:31] [INFO    ] app: Admin user already exists.
[2024-10-18 10:41:31] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:41:31] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:41:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:32] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:41:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:32] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:41:34] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:41:35] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:41:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:35] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:41:35] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html
[2024-10-18 10:41:35] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:41:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:41:35] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:41:35] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:46:14] [INFO    ] app: Admin user already exists.
[2024-10-18 10:46:14] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:46:14] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:46:15] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:46:15] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:46:16] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:46:16] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:46:18] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:46:19] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:46:19] [ERROR   ] app: Exception on /auth/login [POST]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\auth\routes.py", line 21, in login
    return redirect(url_for('admin.dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:46:19] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:46:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:46:19] "[35m[1mPOST /auth/login HTTP/1.1[0m" 500 -
[2024-10-18 10:46:19] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\auth\routes.py", line 21, in login
    return redirect(url_for('admin.dashboard'))
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\helpers.py", line 220, in url_for
    return current_app.url_for(
           ^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:50:38] [INFO    ] app: Admin user already exists.
[2024-10-18 10:50:38] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:50:38] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:50:40] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:40] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:50:40] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:40] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:50:42] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:50:43] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:50:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:43] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:50:43] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html
[2024-10-18 10:50:43] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:50:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:50:43] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:50:43] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1084, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1013, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 972, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: admin_dashboard.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:51:38] [INFO    ] app: Admin user already exists.
[2024-10-18 10:51:38] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:51:38] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:51:39] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:39] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:51:39] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:39] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:51:41] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:51:42] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:51:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:42] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:51:42] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 10:51:42] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:51:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:51:42] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:51:42] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 25, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:52:18] [INFO    ] app: Admin user already exists.
[2024-10-18 10:52:18] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:52:18] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:52:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:19] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:52:19] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:19] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:52:21] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:52:22] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:52:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:22] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:52:22] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 39, in top-level template code
    <form action="{{ url_for('logout') }}" method="POST" style="display:inline;">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'logout'. Did you mean 'auth.logout' instead?
[2024-10-18 10:52:22] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:52:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:52:22] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:52:22] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 19, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 39, in top-level template code
    <form action="{{ url_for('logout') }}" method="POST" style="display:inline;">
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'logout'. Did you mean 'auth.logout' instead?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:53:29] [INFO    ] app: Admin user already exists.
[2024-10-18 10:53:29] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:53:29] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:53:30] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:30] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:53:30] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:30] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:53:32] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:53:33] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:53:33] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:33] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:53:33] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:33] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 10:53:39] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:53:39] "[31m[1mPOST /auth/logout HTTP/1.1[0m" 405 -
[2024-10-18 10:56:08] [INFO    ] app: Admin user already exists.
[2024-10-18 10:56:08] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:56:08] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:56:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:09] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:56:10] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:10] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:56:12] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:56:12] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:56:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:12] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:56:12] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:12] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 10:56:14] [INFO    ] app.auth: User santa logged out
[2024-10-18 10:56:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:14] "[32mPOST /auth/logout HTTP/1.1[0m" 302 -
[2024-10-18 10:56:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:14] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:56:16] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:56:17] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:56:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:17] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:56:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:17] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 10:56:24] [INFO    ] app.admin: Added new participant "alex".
[2024-10-18 10:56:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:24] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 10:56:24] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 17, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 10:56:24] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:56:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:24] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 10:56:24] [ERROR   ] werkzeug: Error on request:
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 17, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1498, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1476, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 823, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\routes.py", line 14, in internal_server_error
    return render_template('500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\errors\templates\500.html", line 7, in top-level template code
    <a href="{{ url_for('admin.dashboard') }}">Return to Dashboard</a>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1084, in url_for
    return self.handle_url_build_error(error, endpoint, values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 924, in build
    raise BuildError(endpoint, values, method, self)
werkzeug.routing.exceptions.BuildError: Could not build url for endpoint 'admin.dashboard'. Did you mean 'admin.admin_dashboard' instead?
[2024-10-18 10:56:51] [INFO    ] app: Admin user already exists.
[2024-10-18 10:56:51] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 10:56:51] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 10:56:56] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:56] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 10:56:57] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:56:57] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 10:56:59] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 10:57:00] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 10:57:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:57:00] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 10:57:00] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 17, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 10:57:00] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 10:57:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 10:57:00] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:01:20] [INFO    ] app: Admin user already exists.
[2024-10-18 11:01:20] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:01:20] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:01:20] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:01:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:22] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:01:22] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:22] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:01:24] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:01:25] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:01:25] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:25] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:01:25] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 18, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 11:01:25] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:01:25] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:01:25] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:03:39] [INFO    ] app: Admin user already exists.
[2024-10-18 11:03:39] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:03:39] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:03:39] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:03:41] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:41] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:03:41] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:41] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:03:42] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:03:42] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:42] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:03:44] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:03:44] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:03:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:44] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:03:44] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 18, in admin_dashboard
    receivers = sql_statements.get_receivers_for_participant(person_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\queries.py", line 122, in get_receivers_for_participant
    joinedload(PastReceiver.receiver)
               ^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'PastReceiver' has no attribute 'receiver'. Did you mean: 'receiver_id'?
[2024-10-18 11:03:44] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:03:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:44] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:03:44] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:03:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:03:44] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:18] [INFO    ] app: Admin user already exists.
[2024-10-18 11:07:18] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:07:18] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:07:18] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:07:21] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:21] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:07:21] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:21] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:07:23] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:07:24] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:07:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:24] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:07:24] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 20, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 101, in top-level template code
    <form class="add-receiver-form" action="{{ url_for('admin.add_receiver', person_id=participant.id) }}" method="POST">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 487, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'participant' is undefined
[2024-10-18 11:07:24] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:07:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:24] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:07:24] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:46] [INFO    ] app: Admin user created.
[2024-10-18 11:07:46] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:07:46] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:07:46] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:07:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:48] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:07:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:48] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:07:50] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:07:51] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:07:51] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:51] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:07:51] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:51] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:07:51] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:51] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:51] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:55] [INFO    ] app.auth: User santa logged out
[2024-10-18 11:07:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:55] "[32mPOST /auth/logout HTTP/1.1[0m" 302 -
[2024-10-18 11:07:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:55] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:07:55] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:55] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:55] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:07:58] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:07:59] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:07:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:59] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:07:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:59] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:07:59] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:07:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:07:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:08:03] [INFO    ] app.admin: Added new participant "alex".
[2024-10-18 11:08:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:03] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:08:03] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 20, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 101, in top-level template code
    <form class="add-receiver-form" action="{{ url_for('admin.add_receiver', person_id=participant.id) }}" method="POST">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 487, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'participant' is undefined
[2024-10-18 11:08:03] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:08:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:03] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:08:03] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:08:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:08:57] [INFO    ] app: Admin user already exists.
[2024-10-18 11:08:57] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:08:57] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:08:57] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:08:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:59] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:08:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:08:59] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:09:02] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:09:03] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:09:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:09:03] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:09:03] [ERROR   ] app: Exception on /admin/admin [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 23, in admin_dashboard
    return render_template(
           ^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\admin_dashboard.html", line 91, in top-level template code
    <form action="{{ url_for('admin.remove_receiver', person_id=receiver.participant_id, receiver_name=receiver.receiver_name, year=receiver.year) }}" method="POST" style="display:inline;">
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1073, in url_for
    rv = url_adapter.build(  # type: ignore[union-attr]
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 922, in build
    rv = self._partial_build(endpoint, values, method, append_unknown)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\map.py", line 814, in _partial_build
    build_rv = rule.build(values, append_unknown)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\rules.py", line 850, in build
    return self._build_unknown(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<werkzeug routing>", line 1, in <builder:'/admin/remove_receiver/<int:person_id>/<string:receiver_name>/<int:year>'>
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\werkzeug\routing\converters.py", line 163, in to_url
    value_str = str(self.num_convert(value))
                    ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'str object' has no attribute 'participant_id'
[2024-10-18 11:09:03] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:09:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:09:03] "[35m[1mGET /admin/admin HTTP/1.1[0m" 500 -
[2024-10-18 11:09:03] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:09:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:09:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:10:58] [INFO    ] app: Admin user already exists.
[2024-10-18 11:10:58] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:10:58] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:10:58] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:11:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:00] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:11:00] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:00] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:11:02] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:11:02] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:11:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:02] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:11:02] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:02] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:11:03] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:11:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:03] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:11:13] [INFO    ] app.admin: Participant ID "2" removed.
[2024-10-18 11:11:13] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:13] "[32mPOST /admin/remove_participant/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:11:13] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:13] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:11:13] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:11:13] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:13] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:11:17] [INFO    ] app.admin: Added new participant "alex".
[2024-10-18 11:11:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:17] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:11:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:17] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:11:17] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:11:17] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:17] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:11:25] [ERROR   ] app.errors: Database error: Failed to add participant
[2024-10-18 11:11:25] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:11:25] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:12:47] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:12:47] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:12:53] [ERROR   ] app.errors: Database error: Failed to add participant
[2024-10-18 11:12:53] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:12:53] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:12:54] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:12:54] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:25:32] [ERROR   ] app: Exception on /admin/edit_participant/2 [GET]
Traceback (most recent call last):
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\decorators.py", line 29, in decorated_view
    return fn(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\routes.py", line 68, in edit_participant
    return render_template('edit_participant.html', participant=participant)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 1304, in render
    self.environment.handle_exception()
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\jinja2\environment.py", line 939, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "C:\Users\Mac OS\Pro-Programming\secret-santa\app\admin\templates\edit_participant.html", line 1, in top-level template code
    {% extends 'base.html' %}
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Mac OS\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.12_qbz5n2kfra8p0\LocalCache\local-packages\Python312\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: base.html
[2024-10-18 11:25:32] [ERROR   ] app.errors: Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
[2024-10-18 11:25:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:25:32] "[35m[1mGET /admin/edit_participant/2 HTTP/1.1[0m" 500 -
[2024-10-18 11:26:01] [INFO    ] app: Admin user already exists.
[2024-10-18 11:26:01] [INFO    ] app.logic: Logging setup complete
[2024-10-18 11:26:02] [INFO    ] werkzeug: [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:5000
[2024-10-18 11:26:02] [INFO    ] werkzeug: [33mPress CTRL+C to quit[0m
[2024-10-18 11:26:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:03] "[32mGET / HTTP/1.1[0m" 302 -
[2024-10-18 11:26:03] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:03] "GET /auth/login HTTP/1.1" 200 -
[2024-10-18 11:26:05] [INFO    ] app.auth: Login attempt for user: santa
[2024-10-18 11:26:06] [INFO    ] app.auth: User santa logged in with role admin
[2024-10-18 11:26:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:06] "[32mPOST /auth/login HTTP/1.1[0m" 302 -
[2024-10-18 11:26:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:06] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:06] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:06] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:06] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:14] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:14] "GET /admin/edit_participant/2 HTTP/1.1" 200 -
[2024-10-18 11:26:20] [INFO    ] app.admin: Participant ID "2" updated to name "alex".
[2024-10-18 11:26:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:20] "[32mPOST /admin/edit_participant/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:26:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:20] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:20] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:20] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:20] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:32] [INFO    ] app.admin: Added new participant "magda".
[2024-10-18 11:26:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:32] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:26:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:32] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:32] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:32] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:32] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:37] [INFO    ] app.admin: Participant ID "3" removed.
[2024-10-18 11:26:37] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:37] "[32mPOST /admin/remove_participant/3 HTTP/1.1[0m" 302 -
[2024-10-18 11:26:37] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:37] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:37] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:37] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:37] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:43] [INFO    ] app.admin: Added new participant "magda".
[2024-10-18 11:26:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:43] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:26:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:43] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:43] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:43] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:43] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:44] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:44] "GET /admin/edit_participant/3 HTTP/1.1" 200 -
[2024-10-18 11:26:49] [INFO    ] app.admin: Participant ID "3" updated to name "kathi".
[2024-10-18 11:26:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:49] "[32mPOST /admin/edit_participant/3 HTTP/1.1[0m" 302 -
[2024-10-18 11:26:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:49] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:26:49] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:26:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:49] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:26:53] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:53] "GET /admin/edit_participant/3 HTTP/1.1" 200 -
[2024-10-18 11:26:57] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:26:57] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:24] [INFO    ] app.admin: Added new participant "magda".
[2024-10-18 11:27:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:24] "[32mPOST /admin/add_participant HTTP/1.1[0m" 302 -
[2024-10-18 11:27:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:24] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:24] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:27:24] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:24] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:27:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:35] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:27:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:35] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:35] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:27:35] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:35] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:27:48] [ERROR   ] app.errors: Database error: Failed to add participant
[2024-10-18 11:27:48] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:48] "[35m[1mPOST /admin/add_participant HTTP/1.1[0m" 500 -
[2024-10-18 11:27:49] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:49] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:58] [INFO    ] app.admin: Added receiver "magda" for participant ID "2" in year 2021.
[2024-10-18 11:27:58] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:58] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:27:58] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:58] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:27:59] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:27:59] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:27:59] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:28:01] [INFO    ] app.admin: Removed receiver "magda" for participant ID "2" in year 2021.
[2024-10-18 11:28:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:01] "[32mPOST /admin/remove_receiver/2/magda/2021 HTTP/1.1[0m" 302 -
[2024-10-18 11:28:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:01] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:28:01] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:28:01] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:01] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:28:05] [INFO    ] app.admin: Added receiver "magda" for participant ID "2" in year 2021.
[2024-10-18 11:28:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:05] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:28:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:05] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:28:05] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:28:05] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:05] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
[2024-10-18 11:28:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:09] "[32mPOST /admin/add_receiver/2 HTTP/1.1[0m" 302 -
[2024-10-18 11:28:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:09] "GET /admin/admin HTTP/1.1" 200 -
[2024-10-18 11:28:09] [ERROR   ] app.errors: Page not found: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
[2024-10-18 11:28:09] [INFO    ] werkzeug: 127.0.0.1 - - [18/Oct/2024 11:28:09] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
